variables:
  create2_deployer:
    ty: address
    value: "0x4e59b44847b379578588920cA78FbF26c0B4956C"
  
  ownership_salt:
    ty: bytes32
    value: "0x0000000000000000000000000000000000000000000000000000000000000002"
  
  simple_bytecode:
    ty: string
    value: "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506101bc806100606000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80638da5cb5b1461003b578063f2fde38b14610059575b600080fd5b610043610075565b60405161005091906100c0565b60405180910390f35b610073600480360381019061006e919061010c565b61009e565b005b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6100a66100f1565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6100f96100f1565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610130576101306101ad565b565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061016182610136565b9050919050565b61017181610156565b811461017c57600080fd5b50565b60008135905061018e81610168565b92915050565b6000602082840312156101aa576101a9610131565b5b60006101b88482850161017f565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052600160045260246000fdfea26469706673582212201234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef64736f6c63430008070033"

actions:
  - id: "deploy_simple"
    action_data:
      type: "deploy"
      content:
        address: !var create2_deployer
        salt: !var ownership_salt
        constructor_abi_item: "constructor()"
        constructor_args: []
        bytecode: !var simple_bytecode

  - id: "read_owner"
    depends_on: ["deploy_simple"]
    action_data:
      type: "read"
      content:
        address: !output deploy_simple
        abi_item: "function owner() view returns (address)"
        args: []
